
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Banking Your Profits - Ryan Weald</title>
  <meta name="author" content="">

  
  <meta name="description" content="Tweet Banking Your Profits Apr 15th, 2012 Banking Your Profits, How to Upgrade to the latest Rails Let me start off by saying this is not a post &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://rweald.github.com/blog/2012/04/15/banking-your-profits/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Ryan Weald" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body >
  <header role="banner" id="sidebar">
    <!-- Logo -->
<aside id="logo" class="clearfix">
  <div class="clearfix">
    <a href="/">Ryan Weald</a>
  </div>
</aside>

<ul id="menu">

  <li class="title">
    <h1 id="title"><a href="/">Ryan Weald</a></h1>
  </li>


  <li class="link">
    <a href="/about/">about</a>
  </li>


  <li class="link">
    <a href="http://www.linkedin.com/in/ryanweald/">linkedin</a>
  </li>



  <li class="link">
    <a href="http://twitter.com/rweald/">twitter</a>
  </li>


  <li class="link">
    <a href="http://github.com/rweald/">github</a>
  </li>


  <li class="link rss">
    <a href="/atom.xml">rss feed</a>
  </li>
</ul>


<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:rweald.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>


<!-- Octopress Love -->
<aside id="octopress_linkback">
  <a href="http://octopress.org/">
    <span class="unicode_square">
      <span class="unicode_circle">
        &nbsp;
      </span>
    </span>
    <span class="octopress">Powered by Octopress</span>
  </a>
</aside>

  </header>
  <section id="main">
    <article class="post">
  <div class="sharing-box">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://rweald.github.com/blog/2012/04/15/banking-your-profits/" data-via="rweald" data-counturl="http://rweald.github.com/blog/2012/04/15/banking-your-profits/" data-size="large">Tweet</a>
  
  
  
</div>

  
  <header>
    
      <h2 class="entry-title">Banking Your Profits</h2>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-15T00:00:00-07:00" pubdate data-updated="true">Apr 15<span>th</span>, 2012</time>
        
      </p>
    
  </header>


<h1>Banking Your Profits, How to Upgrade to the latest Rails</h1>

<p>Let me start off by saying this is not a post touting all the great new features available in the latest version of Rails. I am not going to try and convince you that there is no way you can be productive staying on your current version of Rails. Instead this is a post about the way you can improve the overall quality of your codebase and reduce technical debt even if you never fully complete the upgrade. I am going to outline the process that we used at <a href="http://sharethrough.github.com">Sharethrough</a> to improve the quality of our codebase while upgrading from Rails 2 to Rails 3.</p>

<p>The driving principle behind this post is &#8220;Banking your profits&#8221;. In
software development that means making small focused commits on your
master branch and using <em>continuous integration</em>[<a href="#ci">1</a>] to get those small changes integrated with the rest of your production code. By banking these profits along the way you gaining value even if you never succeed with the larger effort.</p>

<p>So how can you possibly make small focused commits when you are working on an undertaking as monumental as a Rails 3 upgrade?
The key to our success was small short lived Branches. The rules that governed these branches are as follows:</p>

<p>1) No branch may live longer than 24 hours</p>

<p>2) You can not make any unnecessary changes that could not be backported.</p>

<p>Following these rules you are able to shift your mindset. Rather than an
all or nothing sprint we instead methodically identified technical debt
that was hindering the upgrade but not directly a result of Rails API
incompatibilities. It was really quite amazing how much of the upgrade
pain was actually the result of tight coupling and
<em>SOLID</em>[<a href="#solid">2</a>] design principle violations rather than Rails 3 incompatibilities.</p>

<p>Whenever we encountered a piece of debt that was hindering our upgrade we would switch back to the master branch and fix the code. Following this method the all or nothing part of the upgrade only took 2 days! The best part was even if we had never succeeded on the final portion of the upgrade we would have drastically improved the quality of the code allowing the team to move faster.</p>

<p>If you follow the technique outlined here you will improve the quality of your codebase regardless of whether the upgrade is successful.</p>

<p>P.S.</p>

<p>Want to work with me tackling hard problems across the stack using TDD and pair programming?
<a href="http://www.sharethrough.com/engineering/">Sharethrough is hiring talented engineers</a></p>

<p><a name="ci"></a> [1] <a href="http://en.wikipedia.org/wiki/Continuous_integration">http://en.wikipedia.org/wiki/Continuous_integration</a></p>

<p><a name="solid"></a> [2] <a href="http://en.wikipedia.org/wiki/SOLID_(object-oriented_design)">http://en.wikipedia.org/wiki/SOLID_(object-oriented_design)</a></p>



</article>


    <nav role="navigation" id="pagination">

</nav>
  </section>
  

  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
